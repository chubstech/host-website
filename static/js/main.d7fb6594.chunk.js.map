{"version":3,"sources":["components/IoTChart.js","pages/Home.js","components/ReportTableAPI.js","components/ReportChart.js","pages/Report.js","pages/Help.js","App.js","serviceWorker.js","index.js"],"names":["IoTChart","fetch","then","response","json","devices","jsonUsers","JSON","stringify","parse","map","e","userType","baseAPIURL","makeAPIRequest","user_id","info","today","Math","floor","Date","getTime","past","round","filteredJson","filter","time_obs","dict","Object","time","loudness","unixStorage","niceTime","dateObj","hours","getHours","minutes","getMinutes","ampm","makeNiceTime","db_reading","canvas","document","createElement","chartId","id","createTextNode","querySelector","appendChild","context","getElementById","getContext","window","Chart","type","data","labels","keys","reverse","datasets","label","padding","values","borderColor","backgroundColor","lineTension","borderWidth","borderDash","options","title","display","text","position","fontSize","fontColor","layout","top","bottom","scales","xAxes","scaleLabel","labelString","ticks","maxTicksLimit","yAxes","beginAtZero","annotation","drawTime","annotations","mode","scaleID","value","Component","updateChartMethod","console","log","chart","i","length","includes","push","update","updateChartHelper","setTimeout","Home","React","color_count","createDataset","user_file","user","colors","help","json_data","peak","peaktimes","avg","avgBase","last_12hours","activeHour","dbAvg","hourlyNumCount","final_result","zero_hr","zeroNumCount","getDate","toLocaleString","startIndex","s","getAvgHourlyData","result","fill","chartOptions","showScale","pointDot","getTimeAxis","axis_list","time_stamps","currentHr","decrementedHr","unshift","a","ReportChart","props","chartReference","createRef","state","chartData","json_files","dataset_list","forEach","item","dataset","setState","className","ref","this","height","width","key","Report","curr","Button","variant","size","onClick","preventDefault","print","toLocaleDateString","Help","App","Container","basename","Navbar","bg","expand","Brand","as","Link","to","Toggle","aria-controls","Collapse","Nav","NavLink","exact","path","component","from","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d7fb6594.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Chart from \"chart.js\";\r\nimport 'chartjs-plugin-annotation';\r\n\r\nfunction makeAPIRequest(userType) {\r\n    var baseAPIURL = 'https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/noise_observation/user/';\r\n    baseAPIURL = baseAPIURL + userType;\r\n    return fetch(baseAPIURL)\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n}\r\n\r\nfunction makeAPIRequestUsers() {\r\n    return fetch('https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/users')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n}\r\n\r\nfunction getLoudestOne(time, loudness, unixStorage)\r\n{\r\n    if(time in unixStorage){\r\n        if (unixStorage[time] < loudness) {\r\n            unixStorage[time] = loudness\r\n        }\r\n    }\r\n    else {\r\n        unixStorage[time] = loudness\r\n    }\r\n}\r\n\r\nfunction makeNiceTime(dateObj)\r\n{\r\n  var hours = dateObj.getHours();\r\n  // Get minutes part from the timestamp\r\n  var minutes = dateObj.getMinutes();\r\n  // Get seconds part from the timestamp\r\n  var ampm = hours >= 12 ? 'pm' : 'am';\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? '0'+minutes : minutes;\r\n  var strTime = hours + ':' + minutes + ' ' + ampm;\r\n  return strTime;\r\n\r\n}\r\n\r\n\r\nexport default class IoTChart extends Component {\r\n    componentDidMount() {\r\n        var promiseA = makeAPIRequestUsers().then(devices => {\r\n            var jsonUsers = JSON.stringify(devices);\r\n            jsonUsers = JSON.parse(jsonUsers);\r\n            jsonUsers.map(function (e) {\r\n                var promiseB = makeAPIRequest(e.user_id).then(info => {\r\n                    var json = JSON.stringify(info);\r\n                    json = JSON.parse(json);\r\n                    var today = Math.floor(new Date().getTime()/1000.0);\r\n                    var past = Math.round(today - 7200);\r\n                    var filteredJson = json.filter(function (e) {\r\n                        if (e.time_obs >= past && e.time_obs < today) {\r\n                            return e.time_obs;\r\n                        }\r\n                    }\r\n                    );\r\n                    var dict = new Object();\r\n                    filteredJson.map(function (e) {\r\n                        var timeStampDate = new Date(e.time_obs * 1000);\r\n                        var niceTime = makeNiceTime(timeStampDate);\r\n                        getLoudestOne(niceTime, e.db_reading, dict);\r\n                    });\r\n                    var canvas = document.createElement('canvas'),\r\n                    chartId = 'chart' + e.user_id;\r\n                    canvas.id = chartId;\r\n                    var chartLabel = document.createTextNode(e.user_id);\r\n                    document.querySelector(\"#chartContainer\").appendChild(canvas);\r\n\r\n                    var context = document.getElementById(chartId).getContext('2d');\r\n                    window[chartId] = new Chart(context, {\r\n                        type: 'line',\r\n                        data: {\r\n                            //Bring in data\r\n                            labels: Object.keys(dict).reverse(),\r\n                            datasets: [\r\n                                // Displays each element in a legend above chart\r\n                                {\r\n                                    label: \"DB Levels\",\r\n                                    padding: 100,\r\n                                    data: Object.values(dict).reverse(),\r\n                                    borderColor: 'rgb(135, 188, 200)',\r\n                                    backgroundColor: 'rgba(147, 215, 245, 0.5)',\r\n                                    lineTension: 0\r\n                                },\r\n                                {\r\n                                    label: \"Peaceful\",\r\n                                    borderColor: 'rgb(33, 150, 64)',\r\n                                    borderWidth: 2,\r\n                                    backgroundColor: 'rgba(33, 150, 64, 0.5)',\r\n                                    borderDash: [10, 5],\r\n                                },\r\n                                {\r\n                                    label: \"Disruptive\",\r\n                                    borderColor: 'rgba(255, 146, 0, 0.8)',\r\n                                    backgroundColor: 'rgba(255, 146, 0, 0.5)',\r\n                                    borderWidth: 2,\r\n                                    borderDash: [10, 5],\r\n\r\n                                },\r\n                                {\r\n                                    label: \"Harmful\",\r\n                                    borderColor: 'rgb(255, 25, 25)',\r\n                                    backgroundColor: 'rgba(255, 25, 25, 0.5)',\r\n                                    borderWidth: 2,\r\n                                    borderDash: [10, 5],\r\n                                }\r\n                            ]\r\n                        },\r\n                        options: {\r\n                            title: {\r\n                                display: true,\r\n                                text: e.user_id,\r\n                                position: 'top',\r\n                                fontSize: 30,\r\n                                fontColor: '#000000'\r\n                            },\r\n                            layout: {\r\n                                padding: {\r\n                                    top: 20,\r\n                                    bottom: 20\r\n                                }\r\n                            },\r\n                            scales: {\r\n                                xAxes: [{\r\n                                    scaleLabel: {\r\n                                        display: true,\r\n                                        labelString: 'Time (hh:mm 12-Hour)'\r\n                                    },\r\n                                    ticks: {\r\n                                        maxTicksLimit: 20\r\n                                    }\r\n                                }],\r\n                                yAxes: [{\r\n                                    scaleLabel: {\r\n                                        display: true,\r\n                                        labelString: 'Recorded Decibels (dB)'\r\n                                    },\r\n                                    ticks: {\r\n                                        beginAtZero: true\r\n                                    }\r\n                                }],\r\n                            },\r\n                            annotation: {\r\n                                drawTime: 'afterDatasetsDraw',\r\n                                annotations: [\r\n                                    {\r\n                                        drawTime: 'afterDraw',\r\n                                        id: 'good', // optional\r\n                                        type: 'line',\r\n                                        mode: 'horizontal',\r\n                                        scaleID: 'y-axis-0',\r\n                                        value: '35',\r\n                                        borderColor: 'rgba(33, 150, 64, 0.8)',\r\n                                        borderWidth: 2,\r\n                                        borderDash: [10, 5]\r\n                                    },\r\n                                    {\r\n                                        drawTime: 'afterDraw',\r\n                                        id: 'warning', // optional\r\n                                        type: 'line',\r\n                                        mode: 'horizontal',\r\n                                        scaleID: 'y-axis-0',\r\n                                        value: '48',\r\n                                        //borderColor: 'rgba(255, 254, 0, 0.8)',\r\n                                        borderColor: 'rgba(255, 146, 0, 0.8)',\r\n                                        borderWidth: 2,\r\n                                        borderDash: [10, 5]\r\n                                    },\r\n                                    {\r\n                                        drawTime: 'afterDraw',\r\n                                        id: 'bad', // optional\r\n                                        type: 'line',\r\n                                        mode: 'horizontal',\r\n                                        scaleID: 'y-axis-0',\r\n                                        value: '70',\r\n                                        borderColor: 'rgba(255, 25, 25, 0.8)',\r\n                                        borderWidth: 2,\r\n                                        borderDash: [10, 5]\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n          });\r\n\r\n    }\r\n  render() {\r\n      return (\r\n          <div>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport '../App.css';\r\nimport Chart from \"chart.js\";\r\nimport IoTChart from '../components/IoTChart.js'\r\n\r\n\r\n\r\nfunction makeAPIRequest(userType) {\r\n    var baseAPIURL = 'https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/noise_observation/user/';\r\n    baseAPIURL = baseAPIURL + userType;\r\n    console.log(\"making api call (users)\");\r\n    return fetch(baseAPIURL)\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n\r\n}\r\n\r\nfunction makeAPIRequestUsers() {\r\n    console.log(\"making user api call\");\r\n    return fetch('https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/users')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n}\r\n\r\nfunction getLoudestOne(time, loudness, unixStorage)\r\n{\r\n    if(time in unixStorage){\r\n        if (unixStorage[time] < loudness) {\r\n            unixStorage[time] = loudness\r\n        }\r\n    }\r\n    else {\r\n        unixStorage[time] = loudness\r\n    }\r\n}\r\n\r\nfunction makeNiceTime(dateObj)\r\n{\r\n  var hours = dateObj.getHours();\r\n  // Get minutes part from the timestamp\r\n  var minutes = dateObj.getMinutes();\r\n  // Get seconds part from the timestamp\r\n  var ampm = hours >= 12 ? 'pm' : 'am';\r\n  hours = hours % 12;\r\n  hours = hours ? hours : 12; // the hour '0' should be '12'\r\n  minutes = minutes < 10 ? '0'+minutes : minutes;\r\n  var strTime = hours + ':' + minutes + ' ' + ampm;\r\n  return strTime;\r\n\r\n}\r\n\r\nfunction updateChartHelper(chart, label, data){\r\n  //this is what actually updates the charts\r\n    for (var i = 0; i < label.length; i++) {\r\n        if (chart.data.labels.includes(label[i]) == false) {\r\n            chart.data.datasets[0].data.push(data[i]);\r\n            chart.data.labels.push(label[i]);\r\n        }\r\n    }\r\n  chart.update();\r\n}\r\n\r\nfunction updateChartMethod(value)\r\n{\r\n  var promiseA = makeAPIRequestUsers().then(devices => {\r\n      var jsonUsers = JSON.stringify(devices);\r\n      jsonUsers = JSON.parse(jsonUsers);\r\n      jsonUsers.map(function (e) {\r\n        var promiseB = makeAPIRequest(e.user_id).then(info => {\r\n            var json = JSON.stringify(info);\r\n            json = JSON.parse(json);\r\n            var today = Math.floor(new Date().getTime()/1000.0);\r\n            var past = Math.round(today - 7200);\r\n            var filteredJson = json.filter(function (e) {\r\n                if (e.time_obs >= past && e.time_obs < today) {\r\n                    return e.time_obs;\r\n                }\r\n            }\r\n            );\r\n            var dict = new Object();\r\n            filteredJson.map(function (e) {\r\n                var timeStampDate = new Date(e.time_obs * 1000);\r\n                var niceTime = makeNiceTime(timeStampDate);\r\n                getLoudestOne(niceTime, e.db_reading, dict);\r\n            });\r\n            var label = Object.keys(dict).reverse();\r\n            var data = Object.values(dict).reverse();\r\n            updateChartHelper(window['chart'+e.user_id],label,data);\r\n            setTimeout(function () { updateChartMethod(value - 1); }, 60000);\r\n        });\r\n      });\r\n    });\r\n}\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            <h1>Noise Manager WebApp</h1>\r\n            <p>Real time data of each section/device</p>\r\n            <div id=\"chartContainer\">\r\n                <IoTChart />\r\n            </div>\r\n          \r\n            <script>\r\n                $(document).ready(function() {\r\n                 setTimeout(function () { updateChartMethod(100); }, 70000)\r\n            };\r\n            </script>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nfunction makeAPIRequest(userType) {\r\n    var baseAPIURL = 'https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/noise_observation/user/';\r\n    baseAPIURL = baseAPIURL + userType\r\n    return fetch(baseAPIURL)\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            return json;\r\n        });\r\n}\r\n\r\nfunction makeAPIRequestUsers() {\r\n    return fetch('https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/users')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            return json;\r\n        });\r\n}\r\n\r\nclass ReportTable extends React.Component {\r\n\r\n  componentDidMount() {\r\n    var curr = Math.floor(Date.now() / 1000);\r\n    // var pastDay =  Math.round(curr - 43200); //12 hours\r\n    var pastDay =  Math.round(curr - 86400); //24 hours\r\n    makeAPIRequestUsers()\r\n      .then((users) => {\r\n        var jsonUsers = JSON.stringify(users);\r\n        jsonUsers = JSON.parse(jsonUsers);\r\n        jsonUsers.forEach(function(e) {\r\n          makeAPIRequest(e.user_id)\r\n            .then((rawdata) => {\r\n              var data = JSON.stringify(rawdata);\r\n              data = JSON.parse(data);\r\n              var filteredJson = data.filter(function (e) {\r\n                if (e.time_obs >= pastDay && e.time_obs < curr) {\r\n                  return e.time_obs;\r\n                }\r\n              }\r\n              );\r\n\r\n              var peak = 0;\r\n              var avg = 0;\r\n              var peaktimes = {};\r\n\r\n              filteredJson.forEach((item, i) => {\r\n                avg += item.db_reading;\r\n                if (item.db_reading >= peak) {\r\n                  delete peaktimes[peak];\r\n                  peak = item.db_reading;\r\n                  var time = new Date(item.time_obs * 1000);\r\n                  if (peaktimes[item.db_reading]) {\r\n                    peaktimes[item.db_reading].push(time.toLocaleString());\r\n                  }\r\n                  else {\r\n                    peaktimes[item.db_reading] = [time.toLocaleString()];\r\n                  }\r\n                }\r\n              })\r\n              console.log(\"peaktimes\");\r\n              console.log(peaktimes);\r\n              var d1 = document.getElementById('table');\r\n              d1.insertAdjacentHTML('beforeend', '<tr><td>'+e.user_id+'</td><td>'+ Math.round(avg/data.length)+'</td><td>'+ peak +'</td><td>'+ peaktimes[peak] +'</tr>');\r\n            })\r\n        })\r\n      })\r\n  }\r\n\r\n    render() {\r\n        return (\r\n          <div>\r\n              <h3>Daily Summary Table</h3>\r\n              <table>\r\n              <tbody id=\"table\">\r\n                <tr>\r\n                 <th id=\"table-header\">Section Name</th>\r\n                 <th id=\"table-header\">Average dB</th>\r\n                 <th id=\"table-header\">Peak dB</th>\r\n                 <th id=\"table-header\">Peak dB Time</th>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n          </div>\r\n        );\r\n  }\r\n}\r\nexport default ReportTable;\r\n","import React from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nlet color_count = 0;\r\n\r\n\r\nfunction getAvgHourlyData( json_data ) { //Gathers the db Levels of each hour from the json and finds avg db level per hr\r\n  var peak = 0;\r\n  var peaktimes = {};\r\n  let avg = 0;\r\n  let avgBase = 0;\r\n\r\n    let last_12hours = [];\r\n    let activeHour = 0;\r\n    let dbAvg = 0;\r\n    let hourlyNumCount = 0;\r\n    let final_result = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];//25\r\n    let zero_hr = 0;\r\n    let zeroNumCount = 0;\r\n\r\n    var today = new Date();\r\n    for(let i = 0; i < json_data.length ; i++) {\r\n        var time = new Date( json_data[i].time_obs *1000 );\r\n        if( time.getDate() > today.getDate()-1 && time.getHours() < today.getHours() ) {// This only checks if the data is on the 2 day list limit until current time\r\n            if( activeHour == 0 ) {\r\n                activeHour = time.getHours();\r\n            } else if ( time.getHours() != activeHour ) { //Runs this if it's a new hour\r\n                 if ( time.getDate() == today.getDate()  && activeHour <= today.getHours()) {\r\n                    last_12hours.push( [Math.round(dbAvg / hourlyNumCount), activeHour ])\r\n                    activeHour = time.getHours();\r\n                    dbAvg = 0;\r\n                    hourlyNumCount = 0;\r\n                }\r\n            } \r\n            \r\n             if ( activeHour == 0 ) {\r\n                zero_hr+= json_data[i].db_reading;\r\n                zeroNumCount++;\r\n            } else {\r\n                dbAvg+= json_data[i].db_reading;\r\n                hourlyNumCount++;\r\n            }\r\n        }\r\n        dbAvg+= json_data[i].db_reading;\r\n        if (json_data[i].db_reading >= peak) {\r\n          delete peaktimes[peak];\r\n          peak = json_data[i].db_reading;\r\n          if (peaktimes[json_data[i].db_reading]) {\r\n            peaktimes[json_data[i].db_reading].push(time.toLocaleString());\r\n          }\r\n          else {\r\n            peaktimes[json_data[i].db_reading] = [time.toLocaleString()];\r\n          }\r\n        }\r\n        hourlyNumCount++;\r\n\r\n    }\r\n\r\n    last_12hours.push( [Math.round(zero_hr / zeroNumCount), 0 ]) //adds 12AM time\r\n\r\n    let startIndex = 24-today.getHours();\r\n\r\n    for( var i=0; i < last_12hours.length; i++){ \r\n        final_result[startIndex] = last_12hours[(last_12hours.length-1)-i][0];\r\n        startIndex++;\r\n    }\r\n\r\n    for( var s = 0; s < last_12hours.length; s++){ // Loops through the list to put it on the final list that is shown in the data\r\n        if (last_12hours[s][0] !== 0) {\r\n          avg += last_12hours[s][0];\r\n          avgBase++;\r\n        }\r\n}\r\n\r\n    return [final_result, Math.round(avg/avgBase), peak, peaktimes[peak]];\r\n}\r\n\r\nfunction createDataset( user_file, user ) { //Creates a dataset given the json file\r\n\r\n    const colors = [ 'rgb(25, 129, 102)', 'rgba(171,185,255)', 'rgb(19, 72, 250)', 'rgb(174, 255, 171)', 'rgb(255, 205, 139)', 'rgb(252, 58, 113)', 'rgb(232, 222, 46)', 'rgb(178, 62, 207)', 'rgb(158, 56, 5)'];\r\n    var help = getAvgHourlyData( user_file )\r\n    let result = {\r\n        label: user,\r\n        fill:false,\r\n        backgroundColor: colors[color_count],\r\n        borderColor: colors[color_count],\r\n         data: help[0],\r\n        avg: help[1],\r\n        peak: help[2],\r\n        peaktimes: help[3]\r\n    };\r\n    color_count++;\r\n    return result;\r\n}\r\n\r\n\r\n\r\nvar chartOptions = {\r\n    showScale: true,\r\n    pointDot: true,\r\n    title: {\r\n        display: true,\r\n        text: 'Average Noise Levels in the Past 24 Hours (Hourly)',\r\n        fontSize:20\r\n    },\r\n    scales: {\r\n        yAxes: [{\r\n            scaleLabel: {\r\n                display: true,\r\n                labelString: 'Noise (dB) Levels'\r\n            }\r\n          }]\r\n       }\r\n\r\n}\r\n\r\nfunction makeAPIRequest(userType) {\r\n    let api_site = 'https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/noise_observation/user/'+ userType;\r\n    return fetch( api_site )\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n}\r\n\r\n\r\nfunction makeAPIRequestUsers() {\r\n    return fetch('https://cors-anywhere.herokuapp.com/https://noise-wearable.herokuapp.com/api/users')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then(json => {\r\n            var jsonTest = json;\r\n            return jsonTest;\r\n        });\r\n}\r\n\r\nfunction getTimeAxis() { // returns a list of all labels for the 24 hr time frame\r\n\r\n    let axis_list = [];\r\n    const time_stamps = [ [13, 1], [14, 2], [15, 3], [16, 4], [17, 5], [18, 6], [19, 7], [20, 8], [21, 9], [22, 10], [23, 11], [24, 12]];\r\n    var today = new Date();\r\n    let currentHr = today.getHours();\r\n    for(let i = 0; i < 25 ; i++) { \r\n        let decrementedHr = currentHr - i;\r\n        if( decrementedHr >= 12 ) {//Checks if time is after 12pm \r\n            if(decrementedHr == 12) { axis_list.unshift( decrementedHr + 'PM' ); }\r\n            for(let a = 0; a < time_stamps.length ; a++) { \r\n                if( time_stamps[a][0] == decrementedHr){  axis_list.unshift( time_stamps[a][1] + 'PM' );}\r\n            }\r\n        } else if ( decrementedHr == 0) {\r\n            axis_list.unshift( '12AM');\r\n            currentHr = i + 24; \r\n        } else if( decrementedHr < 12) {\r\n            axis_list.unshift( decrementedHr + 'AM' );\r\n        } \r\n    }\r\n    return axis_list;\r\n}\r\n\r\n\r\n\r\nclass ReportChart extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.chartReference = React.createRef();\r\n        this.label = getTimeAxis();\r\n        this.state = {\r\n            chartData:\r\n             {\r\n                labels: this.label,\r\n                datasets: []\r\n             },\r\n             json_files: []\r\n        };\r\n\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() { //Sets the state of datasets from the json files that are present\r\n\r\n        let dataset_list = [];\r\n\r\n        var promiseA = makeAPIRequestUsers().then(devices => { // Makes API request to get current users list\r\n            var jsonUsers = JSON.stringify(devices);\r\n            jsonUsers = JSON.parse(jsonUsers);\r\n            jsonUsers.forEach((item, i) => {\r\n                var api_data = makeAPIRequest(item.user_id).then(info => { //Loops through each user to create dataset and pushes it to the state\r\n                    var json = JSON.stringify(info);\r\n                    json = JSON.parse(json);\r\n                    var dataset = createDataset( json, json[0].user_id );\r\n                    console.log(dataset);\r\n                    dataset_list.push( dataset);\r\n                    if ( dataset_list.length == jsonUsers.length) {\r\n                        getTimeAxis();\r\n                        this.setState({\r\n                            chartData: {\r\n                                datasets: dataset_list\r\n                            }\r\n                        });\r\n                        return dataset_list;\r\n                    }\r\n                });\r\n        });\r\n\r\n    });\r\n\r\n}\r\n        render() {\r\n            return (\r\n              <div>\r\n                <div className='lineChart'>\r\n                    <Line\r\n                    ref={this.chartReference}\r\n                    data={this.state.chartData}\r\n                    options={chartOptions}\r\n                    height={250}\r\n                    width={600}\r\n                    />\r\n                </div>\r\n                <br></br><br></br>\r\n                <div>\r\n                    <h3>Daily Summary Table</h3>\r\n                    <table>\r\n                    <tbody>\r\n                      <tr>\r\n                       <th id=\"table-header\">Section Name</th>\r\n                       <th id=\"table-header\">Average dB</th>\r\n                       <th id=\"table-header\">Peak dB</th>\r\n                       <th id=\"table-header\">Peak dB Time</th>\r\n                      </tr>\r\n                      {this.state.chartData.datasets.map((item) =>\r\n                        <tr key={item.label}>\r\n                        <td>{item.label}</td>\r\n                        <td>{item.avg}</td>\r\n                        <td> {item.peak}</td>\r\n                        <td>{item.peaktimes}</td>\r\n                        </tr>\r\n                      )}\r\n                      </tbody>\r\n                    </table>\r\n                </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n  export default ReportChart;\r\n","import React from 'react';\r\nimport ReportTable from '../components/ReportTableAPI';\r\nimport ReportChart from '../components/ReportChart';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\nconst Report = () => {\r\n   var curr = new Date();\r\n   function printPage(e) {\r\n     e.preventDefault();\r\n     window.print();\r\n   }\r\n    return (\r\n       <div>\r\n        <div className=\"no-print print-btn\">\r\n          <Button variant=\"info\" size=\"lg\" onClick={printPage}>Print report</Button>\r\n        </div>\r\n\r\n          <h1>Your Noise Report Summary</h1>\r\n          <p>Generated on <b>{ curr.toLocaleDateString() }</b></p>\r\n\r\n          <ReportChart/>\r\n          <br></br>\r\n          <br></br>\r\n          {/*<ReportTable/>*/}\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Report;\r\n","import React from 'react';\r\n\r\nconst Help = () => {\r\n    return (\r\n       <div>\r\n          <h1>Help</h1>\r\n          <p>Please contact UCI's team Chubby Cats.</p>\r\n          <p>ziv@uci.edu</p>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default Help;\r\n","import React, { Component } from 'react';\r\n\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Link,\r\n  NavLink,\r\n  Switch,\r\n  Redirect\r\n} from 'react-router-dom';\r\n\r\n//Pages\r\nimport Home from './pages/Home.js';\r\nimport Report from './pages/Report';\r\nimport Help from './pages/Help';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <HashRouter basename='/'>\r\n              <Navbar bg=\"dark\" variant=\"dark\" expand=\"sm\" >\r\n                <Navbar.Brand as={Link} to=\"/\">Wall Mount Tracking</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\"/>\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                  <Nav className=\"mr-auto\">\r\n                    <Nav.Link as={NavLink} to=\"/host-website\">Home</Nav.Link>\r\n                    <Nav.Link as={NavLink} to=\"/report\">Report</Nav.Link>\r\n                    <Nav.Link as={NavLink} to=\"/help\">Help</Nav.Link>\r\n                  </Nav>\r\n                </Navbar.Collapse>\r\n              </Navbar>\r\n              < br />\r\n              <Switch>\r\n                <Route exact path='/host-website' component={Home}/>\r\n                <Route exact path='/report' component={Report}/>\r\n                <Route exact path='/help' component={Help}/>\r\n                <Redirect from=\"/\" to=\"/host-website\"/>\r\n              </Switch>\r\n          </HashRouter>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(<Router>< App /></Router>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}